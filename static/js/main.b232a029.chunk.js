(window["webpackJsonpreact-sentinel-infinite-scroll"]=window["webpackJsonpreact-sentinel-infinite-scroll"]||[]).push([[0],{14:function(t,e,n){},15:function(t,e,n){},17:function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),c=n(6),a=n.n(c),i=(n(14),n(3)),s=n(1),l=n(7),u=n.n(l),f=(n(15),n(8)),p=n(2),b=n.n(p),m=n(4);function O(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function v(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?O(n,!0).forEach((function(e){Object(f.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var d=function(t,e){var n=Object(r.useState)(!1),o=Object(s.a)(n,2),c=o[0],a=o[1],i=Object(r.useRef)();return Object(r.useEffect)((function(){var n=i.current,r=new IntersectionObserver((function(e){var n=Object(s.a)(e,1)[0];t&&t(n.isIntersecting,c,a)}),e);return n&&r.observe(n),function(){r.disconnect()}}),[t,c,e,i]),i},h=function(t){var e=t.topOffset,n=t.topCallback,o=t.topObserverOptions,c=t.bottomOffset,a=t.bottomCallback,i=t.bottomObserverOptions,s=Object(r.useRef)(),l=d(function(){var t=Object(m.a)(b.a.mark((function t(e,r,o){var c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r||!e){t.next=8;break}if(o(!0),c=s.current.scrollHeight,!n){t.next=7;break}return t.next=6,n(s,l,o);case 6:s.current.scrollTop=s.current.scrollTop+s.current.scrollHeight-c;case 7:return t.abrupt("return",o(!1));case 8:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),v({root:s.current},o)),u=d(function(){var t=Object(m.a)(b.a.mark((function t(e,n,r){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n||!e){t.next=6;break}if(r(!0),!a){t.next=6;break}return t.next=5,a(s,u,r);case 5:r(!1);case 6:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}(),v({root:s.current},i));return Object(r.useEffect)((function(){e?s.current.scrollTop=e:c&&(s.current.scrollTop=s.current.scrollHeight-s.current.clientHeight-c)}),[s,e,c]),{listRef:s,topSentinelRef:l,bottomSentinelRef:u}},g=function(t){t.className;var e=t.children,n=t.topOffset,r=t.topCallback,o=t.topObserverOptions,c=t.bottomOffset,a=t.bottomCallback,i=t.bottomObserverOptions,s=h({topOffset:n,topCallback:r,topObserverOptions:o,bottomOffset:c,bottomCallback:a,bottomObserverOptions:i});return e({listRef:s.listRef,topSentinelRef:s.topSentinelRef,bottomSentinelRef:s.bottomSentinelRef})},w=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"bottomAddItem";return new Promise((function(e,n){setTimeout((function(){e(t)}),1e3)}))},j=function(){var t=Object(r.useState)(["test","test","test","test","test","test","test","test","test","test"]),e=Object(s.a)(t,2),n=e[0],c=e[1],a=h({topOffset:40,topCallback:function(t,e,n){return w("topAddItem").then((function(t){c((function(e){return[t].concat(Object(i.a)(e))}))}))},topObserverOptions:{rootMargin:"40px 0px"},bottomCallback:function(t,e,n){return w().then((function(t){c((function(e){return[].concat(Object(i.a)(e),[t])}))}))}}),l=a.listRef,u=a.topSentinelRef,f=a.bottomSentinelRef,p=n.length>15&&n.length<20;return o.a.createElement("div",{ref:l,style:{height:"200px",width:"200px",overflow:"auto"}},!p&&o.a.createElement("div",{ref:u},"Loading"),o.a.createElement("div",{className:"list"},n.map((function(t,e){return o.a.createElement("div",{key:e},t)}))),o.a.createElement("div",{ref:f},"Loading"))},E=function(){var t=Object(r.useState)(["test","test","test","test","test","test","test","test","test","test"]),e=Object(s.a)(t,2),n=e[0],c=e[1],a=n.length>15&&n.length<20;return o.a.createElement(g,{topOffset:40,topCallback:function(t,e,n){return w("topAddItem").then((function(t){c((function(e){return[t].concat(Object(i.a)(e))}))}))},bottomCallback:function(t,e,n){return w().then((function(t){c((function(e){return[].concat(Object(i.a)(e),[t])}))}))},topObserverOptions:{rootMargin:"40px 0px"}},(function(t){var e=t.listRef,r=t.topSentinelRef,c=t.bottomSentinelRef;return o.a.createElement("div",{ref:e,style:{height:"200px",width:"200px",overflow:"auto"}},!a&&o.a.createElement("div",{ref:r},"Loading"),o.a.createElement("div",{className:"list"},n.map((function(t,e){return o.a.createElement("div",{key:e},t)}))),o.a.createElement("div",{ref:c},"Loading"))}))},k=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("header",{className:"App-header"},o.a.createElement("img",{src:u.a,className:"App-logo",alt:"logo"}),o.a.createElement("h3",null,"InfiniteScroll"),o.a.createElement("div",{style:{display:"flex"}},o.a.createElement(j,null),o.a.createElement(E,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a.a.render(o.a.createElement(k,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},7:function(t,e,n){t.exports=n.p+"static/media/logo.25bf045c.svg"},9:function(t,e,n){t.exports=n(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.b232a029.chunk.js.map